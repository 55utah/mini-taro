{"version":3,"file":"app.js","mappings":"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CrB,UAAU,IAAI,CAAC;IACf,OAAO,EAAE;AACX,CAAC;AAJD,4BAIC;AAEM,MAAM,IAAI,GAAG,GAAG,EAAE,GAAE,CAAC;AAAf,YAAI,QAAW;AAEf,mBAAW,GAAQ;IAC9B,MAAM,EAAE,oBAAQ,CAAC,IAAI;IACrB,MAAM,EAAE,oBAAQ,CAAC,IAAI;IACrB,MAAM,EAAE,oBAAQ,CAAC,IAAI;CACtB;;;;;;;UCpBD;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;UAEA;UACA;;;;;WC5BA;WACA;WACA;WACA;WACA,+BAA+B,wCAAwC;WACvE;WACA;WACA;WACA;WACA,iBAAiB,qBAAqB;WACtC;WACA;WACA,kBAAkB,qBAAqB;WACvC;WACA;WACA,KAAK;WACL;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;;;;WC3BA;;;;;WCAA;WACA;WACA;WACA;WACA;;;;;WCJA;;WAEA;WACA;WACA;WACA;WACA;WACA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,MAAM,qBAAqB;WAC3B;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;;;;;UEhDA;UACA;UACA;UACA;UACA","sources":["webpack://mini-taro/./app.ts","webpack://mini-taro/./src/createAppConfig.ts","webpack://mini-taro/./src/host-config.ts","webpack://mini-taro/./src/hydrate.ts","webpack://mini-taro/./src/interface.ts","webpack://mini-taro/./src/render.ts","webpack://mini-taro/./src/short-cut.ts","webpack://mini-taro/./src/taro-element.ts","webpack://mini-taro/./src/util.ts","webpack://mini-taro/webpack/bootstrap","webpack://mini-taro/webpack/runtime/chunk loaded","webpack://mini-taro/webpack/runtime/hasOwnProperty shorthand","webpack://mini-taro/webpack/runtime/node module decorator","webpack://mini-taro/webpack/runtime/jsonp chunk loading","webpack://mini-taro/webpack/before-startup","webpack://mini-taro/webpack/startup","webpack://mini-taro/webpack/after-startup"],"sourcesContent":["import React from \"react\";\nimport { createAppConfig } from \"./src/createAppConfig\"\n\n\nclass AppComp extends React.Component {\n  componentDidMount() {\n    // ...\n  }\n\n  onLaunch(options: unknown) {\n    console.warn('App onlaunch', options)\n  }\n\n  componentDidShow() {\n    // ...\n  }\n\n  componentDidHide() {\n    // ...\n  }\n\n  componentDidCatchError() {\n    // ...\n  }\n\n  // 在 App 类中的 render() 函数没有实际作用\n  // 请勿修改此函数\n  render() {\n    return React.createElement('view', {}, this.props.children)\n  }\n}\n\n/**\n * \n * 这里在编译后的结果里面需要将\n * require('./vendors.js'); \n * 放在顶层\n */\n\nApp(createAppConfig(AppComp))\n\n","import React, { ComponentClass, FunctionComponent } from \"react\"\nimport { NodeType, Props } from \"./interface\";\nimport { render } from \"./render\"\nimport { TaroElement, TaroRootElement } from \"./taro-element\";\n\nexport interface ReactPageComponent<T = Props> extends ComponentClass<T> {\n  //\n}\n\nexport const PageContext: Record<string, unknown> = {}\n\nconst RootElement = new TaroElement({ id: Infinity, props: {}, nodeName: 'view', type: NodeType.ROOT })\n\ntype PageElement = React.CElement<Props, React.Component<Props, any, any>>\ntype PageComponent = () => PageElement\n\nconst h = React.createElement\n\nconst connectReactPage = (id: string) => {\n  return (component: ReactPageComponent) => {\n    return class Page extends React.Component {\n\n      componentDidCatch(err: any) {\n        console.error('page global error: ', err)\n      }\n\n      render() {\n        return h('root', { uid: id }, h(component, {}))\n      }\n    }\n  }\n}\n\nexport const createAppConfig = (App: React.ComponentClass) => {\n  \n   // 这个Wrapper就是一个代理，将小程序的更新代理到这个页面组件上，再将页面最近的更新setData回小程序\n   class AppWrapper extends React.Component {\n    public pages: PageComponent[] = []\n    public elements: PageElement[] = []\n\n    public mount (component: ComponentClass<Props>, id: string, cb: () => void) {\n      const key = id\n      const page = () => h(component, { key, tid: id })\n      this.pages.push(page)\n\n      // 强制更新一次\n      this.forceUpdate(cb)\n    }\n\n    // public unmount (id: string, cb: () => void) {\n    //   const \n    //   this.forceUpdate(cb)\n    // }\n\n    public render () {\n      while (this.pages.length > 0) {\n        const page = this.pages.pop()!\n        this.elements.push(page())\n      }\n\n      let props: React.Props<any> | null = null\n\n      return React.createElement(\n        App,\n        props,\n        this.elements.slice()\n      )\n    }\n  }\n\n  const wrapper: AppWrapper = render(React.createElement(AppWrapper), RootElement) as AppWrapper\n\n  const createConfig = () => {\n    // app的配置不能是一个复杂对象。。\n    const config = Object.create({\n      render: function(cb: () => void) {\n        wrapper.forceUpdate(cb)\n      },\n      mount: function(component: ReactPageComponent, id: string, cb: () => void) {\n        const page = connectReactPage(id)(component)\n        wrapper.mount(page, id, cb)\n      },\n      onLaunch: function(options: Record<string, unknown>) {\n        console.warn('app onLaunch')\n      },\n      onShow: function(options: any) {\n        \n      },\n      onHide: function() {\n        \n      },\n      onError: function(msg: any) {\n        console.log('app error', msg)\n      },\n      getTree: function() {\n        return RootElement\n      }\n    })\n\n    return config\n  }\n\n  return createConfig()\n\n}\n\n// 页面顶层元素是TaroRootElement props内包含一个uid是路径\nexport function getTaroRootElementByUid(rootElement: TaroElement, uid: string): TaroRootElement | undefined {\n  const queue: TaroElement[] = []\n  let target: TaroRootElement | undefined = undefined\n  queue.push(rootElement)\n  while(queue.length > 0) {\n    const t = queue.shift()!\n    if (t.getAttribute('uid') === uid) {\n      target = t as TaroRootElement\n      break\n    } else {\n      t.children?.map(item => queue.push(item))\n    }\n  }\n  return target\n}\n","// 这边要借助 react-reconciler 实现一套虚拟dom树的系统\n\nimport { HostConfig } from 'react-reconciler'\nimport ReactReconciler = require(\"react-reconciler\")\n\nimport { NodeName, NodeType, Props } from './interface'\nimport { generate, NodeTypeMap, noop } from './util'\nimport { TaroElement, TaroRootElement, TaroText } from './taro-element'\n\nexport function updateProps (dom: TaroElement, oldProps: Props, newProps: Props) {\n  let i: string\n\n  for (i in oldProps) {\n    if (!(i in newProps)) {\n      setProperty(dom, i, null, oldProps[i])\n    }\n  }\n  for (i in newProps) {\n    if (oldProps[i] !== newProps[i]) {\n      setProperty(dom, i, newProps[i], oldProps[i])\n    }\n  }\n}\n\nfunction setProperty (dom: TaroElement, name: string, value: unknown, oldValue?: unknown) {\n  // className转class\n  name = name === 'className' ? 'class' : name\n\n  if (\n    name === 'key' ||\n    name === 'children' ||\n    name === 'ref'\n  ) {\n    // 跳过\n  } else if (name === 'style') {\n    // TODO 处理style\n  } else if (/^on[A-Z]+/.test(name)) {\n    // 事件 onClick等 TODO 这里需要统一管理这些事件\n    // 以onclick举例\n    // if (name === 'onClick') {\n      // 这里是另一种处理事件的方式\n      // dom.setAttribute('bindtap', value as string)\n    // }\n  } else if (value == null) {\n    dom.removeAttribute(name)\n  } else {\n    dom.setAttribute(name, value as string)\n  }\n}\n\nconst hostConfig: HostConfig<\n  string, // Type\n  Props, // Props\n  TaroElement, // Container\n  TaroElement, // Instance\n  TaroText, // TextInstance\n  TaroElement, // SuspenseInstance\n  TaroElement, // HydratableInstance\n  TaroElement, // PublicInstance\n  Record<string, any>, // HostContext\n  string[], // UpdatePayload\n  unknown, // ChildSet\n  unknown, // TimeoutHandle\n  unknown // NoTimeout\n> = {\n  createInstance(\n    type: string,\n    props: Props,\n    rootContainer: TaroElement,\n    hostContext: unknown,\n    internalHandle: unknown,\n  ): TaroElement {\n    const conf = {\n      id: generate(),\n      type: NodeTypeMap[type] || NodeType.VIEW,\n      nodeName: type as NodeName,\n      props,\n      children: [],\n    }\n    if (type === 'root') {\n      return new TaroRootElement(conf)\n    } else {\n      return new TaroElement(conf)\n    }\n  },\n  createTextInstance(\n    text: string,\n    rootContainer: TaroText,\n    hostContext: unknown,\n    internalHandle: unknown,\n  ): TaroText {\n    const vnode = new TaroText({\n      id: generate(),\n      type: NodeType.TEXT,\n      nodeName: 'text',\n      props: {},\n      text,\n    })\n    return vnode\n  },\n  getPublicInstance (inst: TaroElement) {\n    return inst\n  },\n\n  getRootHostContext () {\n    return {}\n  },\n\n  getChildHostContext () {\n    return {}\n  },\n\n  appendChild (parent, child) {\n    parent.appendChild(child)\n  },\n\n  appendInitialChild (parent, child) {\n    parent.appendChild(child)\n  },\n\n  appendChildToContainer (parent, child) {\n    parent.appendChild(child)\n  },\n\n  removeChild (parent, child) {\n    parent.removeChild(child)\n  },\n\n  removeChildFromContainer (parent, child) {\n    parent.removeChild(child)\n  },\n\n  insertBefore (parent, child, refChild) {\n    parent.insertBefore(child, refChild)\n  },\n\n  insertInContainerBefore (parent, child, refChild) {\n    parent.insertBefore(child, refChild)\n  },\n\n  commitTextUpdate (textInst, _, newText) {\n    textInst.textContext = newText\n  },\n\n  finalizeInitialChildren (dom, _, props) {\n    updateProps(dom, {}, props)\n    return false\n  },\n\n  prepareUpdate () {\n    return []\n  },\n\n  commitUpdate (dom, _payload, _type, oldProps, newProps) {\n    updateProps(dom, oldProps, newProps)\n  },\n\n  clearContainer (element) {\n    if (element.children && element.children.length > 0) {\n      element.children = []\n    }\n  },\n\n  shouldSetTextContent: () => false,\n  prepareForCommit (..._: any[]) { return null },\n  resetAfterCommit: noop,\n  commitMount: noop,\n  now: () => Date.now(),\n  cancelTimeout: clearTimeout,\n  scheduleTimeout: setTimeout,\n  preparePortalMount: noop,\n  noTimeout: -1,\n  supportsMutation: true,\n  supportsPersistence: false,\n  isPrimaryRenderer: true,\n  supportsHydration: false\n}\n\nconst TaroReconciler = ReactReconciler(hostConfig)\n\nTaroReconciler.injectIntoDevTools({\n  bundleType: 1,\n  version: '0.0.1',\n  rendererPackageName: 'mini-taro'\n})\n\nexport {\n  TaroReconciler,\n  ReactReconciler,\n}\n","import { MiniData, NodeType } from \"./interface\"\nimport { Short } from \"./short-cut\"\nimport { TaroElement } from \"./taro-element\"\n\nconst isEmpty = (children: any[] | undefined) => {\n  return !children || (Array.isArray(children) && children.length === 0)\n}\n\nexport const hydrate = (node: TaroElement): MiniData => {\n  if (node.type === NodeType.TEXT && isEmpty(node.children)) {\n    return {\n      [Short.Text]: node.text || '',\n      [Short.NodeName]: node.nodeName,\n    }\n  } else {\n    const { nodeName, props, id, children } = node\n    const { className, style, children: _children, ...nextProps } = props || {}\n\n    // style字符串化 + 驼峰转横线\n    let styleContent = ''\n    if (!!style) {\n      for (const [key, value] of Object.entries(style as Object)) {\n        styleContent += `${styleTransform(key)}: ${value};`\n      }\n    }\n\n    return {\n      [Short.Childnodes]: !!children && Array.isArray(children) ? children.map(hydrate) : [],\n      [Short.NodeName]: nodeName,\n      [Short.Class]: className as string || '',\n      [Short.Style]: styleContent as string,\n      uid: `u-${id}`,\n      ...nextProps,\n    }\n  }\n}\n\n// fontSize -> font-size\nexport const styleTransform = (name: string) => {\n  const list = name.split('')\n  const index = list.findIndex(p => /[A-Z]/.test(p))\n  if (index >= 0) list.splice(index, 1, '-' + list[index].toLowerCase())\n  return list.join('')\n}\n","// import { VNode } from \"./vnode\"\n\nimport { Short } from \"./short-cut\"\n\nenum NodeType {\n  ROOT,\n  TEXT,\n  VIEW\n}\n\ntype Props = Record<string, unknown>\n\ntype MiniPage = {\n  setData: (...params: any) => void,\n  data: Record<string, unknown>\n}\n\n\nexport interface MpInstance {\n  config: Record<string, unknown>\n  setData: (data: unknown, cb: () => void) => void\n  $taroParams?: Record<string, unknown>\n  $taroPath: string\n  data: any\n  selectComponent: (selector: string) => any\n}\n\nexport type UpdatePayloadValue = string | boolean | MiniData | MiniData[]\nexport type DataTree = Record<string, UpdatePayloadValue>\n\nexport interface UpdatePayload {\n  path: string;\n  value: UpdatePayloadValue\n}\n\nexport interface MiniElementData {\n  [Short.Childnodes]?: MiniData[]\n  [Short.NodeName]: string\n  [Short.Class]?: string\n  [Short.Style]?: string\n  uid: string\n  [key: string]: unknown\n}\n\ninterface MiniTextData {\n  [Short.Text]: string\n  [Short.NodeName]: string\n}\n\nexport type MiniData = MiniElementData | MiniTextData\n\nexport type NodeName = 'view' | 'text' | '#text' | 'button'\n\nexport {\n  NodeType,\n  Props,\n  MiniPage,\n}\n","// 这边要借助 react-reconciler 实现一套虚拟dom树的系统\n\nimport React, { ReactNode } from 'react'\nimport { TaroReconciler } from './host-config'\nimport { TaroElement } from './taro-element'\n\n\nconst render = (component: ReactNode, container: TaroElement) => {\n\n  if (!container._rootContainer) {\n    container._rootContainer = TaroReconciler.createContainer(container, 0, false, null);\n  }\n\n  TaroReconciler.updateContainer(component, container._rootContainer, null)\n  \n  return TaroReconciler.getPublicRootInstance(container._rootContainer)\n}\n\nexport { render }\n","\nexport const RootName = 'root'\n\nexport const enum Short {\n  Container = \"container\",\n  Childnodes = \"cn\",\n  Text = \"v\",\n  NodeType = \"nt\",\n  NodeName = \"nn\",\n  Style = \"st\",\n  Class = \"cl\",\n  Src = \"src\"\n}\n","import { MpInstance, NodeName, NodeType, Props, UpdatePayload } from \"./interface\";\nimport { RootName, Short } from \"./short-cut\";\nimport { hydrate } from \"./hydrate\";\n\nexport class TaroElement {\n\n  public props: Props\n  public _rootContainer: unknown\n\n  public id: number;\n  public type: NodeType;\n  public nodeName: NodeName;\n  public children?: TaroElement[];\n  public text?: string;\n  public parentNode: TaroElement | null = null\n\n  constructor(params: {\n    id: number;\n    type: NodeType;\n    nodeName: NodeName;\n    props: Props\n    children?: TaroElement[];\n    text?: string;\n  }) {\n    const { id, type, nodeName, props, children, text } = params\n    this.id = id\n    this.type = type\n    this.nodeName = nodeName\n    this.props = Object.assign({}, props)\n    this.children = children\n    this.text = text\n  }\n\n  // dispatchEvent(e: any) {\n  //   console.warn('event', e)\n  // }\n\n  private onAttributeUpdate() {\n    if (!this.parentNode) return\n    const index = this.parentNode.children?.findIndex((p) => p.id === this.id)\n    if (!index || index < 0) return\n    this._root?.enqueueUpdate({\n      path: `${this.parentNode?._path}.${Short.Childnodes}[${index}]`,\n      value: hydrate(this),\n    })\n  }\n\n  setAttribute(name: string, value: unknown) {\n    this.props[name] = value\n    this.onAttributeUpdate()\n  }\n\n  getAttribute(name: string) {\n    return this.props[name]\n  }\n\n  removeAttribute(name: string) {\n    if (name in this.props) {\n      delete this.props[name]\n      this.onAttributeUpdate()\n    }\n  }\n\n  get _path (): string {\n    const parentNode = this.parentNode\n    if (!parentNode || !Array.isArray(parentNode.children)) return ''\n    const index = parentNode.children.findIndex((p) => p.id === this.id)\n    return `${parentNode._path}.${Short.Childnodes}[${index}]`\n  }\n\n  protected get _root (): TaroRootElement | null {\n    return this.parentNode?._root || null\n  }\n\n  appendChild(child: TaroElement) {\n    child.parentNode = this\n    if (!this.children) {\n      this.children = [child]\n    } else {\n      this.children.push(child)\n    }\n    this._root?.enqueueUpdate({\n      path: `${this._path}.${Short.Childnodes}`,\n      value: this.children.map(hydrate),\n    })\n  }\n\n  insertBefore(child: TaroElement, beforeChild: TaroElement) {\n    if (!this.children) return\n    const index = this.children.findIndex((item) => item.id === beforeChild.id)\n    if (index < 0) return\n    child.parentNode = this\n    this.children.splice(index, 0, child)\n    this._root?.enqueueUpdate({\n      path: `${this._path}.${Short.Childnodes}`,\n      value: this.children.map(hydrate),\n    })\n  }\n\n  removeChild(child: TaroElement) {\n    if (!this.children) return\n    const index = this.children.findIndex((item) => item.id === child.id)\n    if (index < 0) return\n    this.children.splice(index, 1)\n    this._root?.enqueueUpdate({\n      path: `${this._path}.${Short.Childnodes}`,\n      value: this.children.map(hydrate),\n    })\n  }\n}\n\nexport class TaroText extends TaroElement {\n\n  constructor(params: {\n    id: number\n    type: NodeType\n    nodeName: NodeName\n    props: Props\n    children?: TaroElement[]\n    text?: string\n  }) {\n    super(params)\n    this.nodeName = '#text'\n  }\n\n  set textContext(text: string) {\n    this.text = text\n    this._root?.enqueueUpdate({\n      path: `${this._path}.${Short.Text}`,\n      value: text,\n    })\n  }\n}\n\nexport class TaroRootElement extends TaroElement {\n  public updatePayloads: UpdatePayload[] = []\n  public ctx: null | MpInstance = null\n  private pendingUpdate: boolean = false\n\n  constructor(params: {\n    id: number\n    type: NodeType\n    nodeName: NodeName\n    props: Props\n    children?: TaroElement[]\n    text?: string\n  }) {\n    super(params)\n  }\n\n  get _root(): TaroRootElement {\n    return this\n  }\n\n  // 页面顶层root节点让_path返回顶层名称\n  get _path (): string {\n    return RootName\n  }\n\n  public enqueueUpdate (payload: UpdatePayload) {\n    this.updatePayloads.push(payload)\n\n    if (!this.pendingUpdate && this.ctx !== null) {\n      this.performUpdate()\n    }\n\n    console.warn('updatePayloads', [...this.updatePayloads])\n  }\n\n  public performUpdate() {\n    this.pendingUpdate = true\n\n    // TODO 将所有的payloads合并为setData的一个参数，传给setData\n    const elements: UpdatePayload[] = []\n    while(this.updatePayloads.length > 0) {\n      const item = this.updatePayloads.shift()!\n      elements.push(item)\n    }\n\n    console.warn('setData before', elements, this.ctx)\n\n    Promise.resolve().then(() => {\n      while(elements.length > 0) {\n        const item = elements.shift()!\n        const { path, value } = item\n        this.ctx?.setData({ [path]: value }, () => {\n          console.warn('setData end')\n        })\n      }\n      this.pendingUpdate = false\n    })\n  }\n}\n","import { NodeType } from \"./interface\"\n\nlet instanceId: number = 0\n\nexport function reset() {\n  instanceId = 0\n}\n\nexport function generate() {\n  const id = instanceId\n  instanceId += 1\n  return id\n}\n\nexport const noop = () => {}\n  \nexport const NodeTypeMap: any = {\n  'view': NodeType.VIEW,\n  'text': NodeType.TEXT,\n  'root': NodeType.ROOT\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t\"app\": 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkIds[i]] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = tt[\"webpackChunkmini_taro\"] = tt[\"webpackChunkmini_taro\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [\"vendors\"], () => (__webpack_require__(\"./app.ts\")))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n",""],"names":[],"sourceRoot":""}